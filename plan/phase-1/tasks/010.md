# TASK-010: Implement `menu.ts` Zod schemas

**Section**: C. Phase 1: Domain Modeling
**Subsection**: C.10
**Task ID**: T-021

## Description

Implement `menu.ts` Zod schemas. This task involves: Create `lib/schemas/menu.ts` implementing:; `modifierOptionSchema` with fields `id?`, `name`, `priceDelta` (default 0).; `modifierGroupSchema` with fields `id?`, `name`, `min?`, `max?`, `options[]`.; and more. This task is part of Phase 1: Domain Modeling and contributes to building the restaurant platform core application.

**Reference Implementation**: `plan/phase-1/master-plan.md`

## Current State

- Previous tasks: [T-020]
- Current limitations: Dependencies must be completed before starting this task
- Relevant context: See execution-order.md for full task details

**Important**: This task depends on: [T-020]

## Checklist

### Preparation and Setup

- [ ] Review relevant documentation and reference implementations
- [ ] Understand dependencies and prerequisites: [T-020]
- [ ] Set up any required tooling or environment
- [ ] Review related tasks and their status
- [ ] Identify any blockers or risks

### Implementation Steps

- [ ] Step 1: Create `lib/schemas/menu.ts` implementing:
- [ ] Step 2: `modifierOptionSchema` with fields `id?`, `name`, `priceDelta` (default 0).
- [ ] Step 3: `modifierGroupSchema` with fields `id?`, `name`, `min?`, `max?`, `options[]`.
- [ ] Step 4: `menuItemSchema` with fields `id`, `name`, `description?`, `price`, `image?`, `tags?[]`, `modifiers?[]`.
- [ ] Step 5: `menuCategorySchema` with fields `id`, `name`, `description?`, `items[]`.
- [ ] Step 6: `menuSchema` with fields `id`, `name`, `currency` (default "USD"), `categories[]`.
- [ ] Step 7: Export the `Menu` type via `z.infer<typeof menuSchema>`.

### Specific Requirements

- [ ] All requirements from execution-order.md must be met
- [ ] Code must follow Global Rules.md guidelines
- [ ] Type safety must be maintained (TypeScript)
- [ ] Error handling must be implemented appropriately

### Error Handling and Edge Cases

- [ ] Handle error cases appropriately
- [ ] Test edge cases
- [ ] Ensure proper validation

### Testing

- [ ] Add `test/schemas/menu-schema.spec.ts` to verify:
- [ ] A valid sample object passes `.parse`.
- [ ] Invalid objects (e.g., missing `id` on menu item) throw validation errors.
- [ ] Run full test suite: `npm test`
- [ ] Run type checking: `npm run build` (TypeScript check)
- [ ] Run linting: `npm run lint`
- [ ] **DO NOT manually test by running the server** - use automated tests instead
- [ ] Ensure all affected functionality is covered by automated tests

### Documentation

- [ ] Update code comments and JSDoc/TSDoc as needed
- [ ] Update relevant documentation files if structural changes were made
- [ ] Document any patterns or conventions established

### Verification

- [ ] Verify all requirements are met
- [ ] Verify no regressions were introduced
- [ ] Verify code quality standards are met
- [ ] Review code for best practices
- [ ] Ensure proper error handling is in place

## Notes

- This task is part of **Phase 1: Domain Modeling**
- **Execution Timing**: Execute after completing dependencies: [T-020]
- **Dependencies**: [T-020]
- **Important Considerations**: 
  - Follow Global Rules.md for all implementation
  - Maintain type safety with TypeScript
  - Write comprehensive tests
  - Follow Next.js and React best practices
- **Task Independence**: Requires dependencies to be completed first
- **Current State**: See execution-order.md for detailed current state information

## Related Tasks

- Previous: TASK-009 (T-020)
- Next: TASK-011 (T-022)
- Dependencies:
  - T-020: Create `lib/schemas` directory structure

## Definition of Done

This is a **CODE/FILE WRITING TASK**.

**Definition of Done**: "A Pull Request was created OR code was pushed to origin with the task complete"

**Examples**:
- Creating new source code files
- Modifying existing source code files
- Implementing features, functions, classes, modules
- Writing tests, specs
- Refactoring code
- Fixing bugs in source code
