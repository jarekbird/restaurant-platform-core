# TASK-6.19: Add minimal JSON-LD support

**Section**: 6. SEO & AI Search Structure in the Prototype
**Subsection**: 6.19
**Task ID**: TASK-6.19

## Description

Add a JSON-LD generation helper in `lib/seo/schema.ts` that builds a basic `@type: Restaurant` JSON-LD object from `RestaurantConfig` (name, address, phone, hours, cuisine, URL, etc.). Add a `JsonLd` React component that renders `<script type="application/ld+json">` in preview pages when enabled.

**Reference Implementation**: 
- `lib/schemas/restaurant.ts` (RestaurantConfig schema)
- `master-plan-redacted.md` Section 5.3 (Structured Data)
- Schema.org Restaurant documentation

## Current State

No JSON-LD structured data exists in preview pages. This will help search engines and AI understand restaurant information.

**Important**: This task should be executed after TASK-6.18, and before TASK-7.20.

## Checklist

### Implementation Steps

- [ ] Step 1: Create JSON-LD helper
  - [ ] Create `lib/seo/schema.ts`
  - [ ] Implement function to build Restaurant JSON-LD from RestaurantConfig
  - [ ] Include: name, address, phone, hours, cuisine, URL, etc.
- [ ] Step 2: Create JsonLd component
  - [ ] Create `components/seo/JsonLd.tsx` (or similar location)
  - [ ] Accept JSON-LD object as prop
  - [ ] Render `<script type="application/ld+json">` with JSON stringified
- [ ] Step 3: Integrate into preview page
  - [ ] Generate JSON-LD in preview page
  - [ ] Render JsonLd component
  - [ ] Optionally gate behind config flag or environment check

### Testing

- [ ] Write unit tests:
  - [ ] Test JSON-LD object structure
  - [ ] Test all required fields are present
- [ ] Write component tests:
  - [ ] Test JsonLd component renders script tag
  - [ ] Test JSON is valid
- [ ] Run full test suite: `npm test`

## Related Tasks

- Previous: TASK-6.18
- Next: TASK-7.20
- Dependencies: None

## Definition of Done

This is a **CODE/FILE WRITING TASK**.

**Definition of Done**: "JSON-LD helper and JsonLd component have been created. JSON-LD is generated from RestaurantConfig and rendered in preview pages. Unit tests verify JSON-LD structure. Component tests verify JsonLd renders valid JSON. All tests pass. Code is committed and pushed to origin."

**User Stories**:
- As a search engine, I want structured data so I can display rich results
- As an AI search engine, I want machine-readable restaurant data so I can answer questions accurately

**Automated Tests**: 
- Unit tests verifying JSON-LD object structure and required fields
- Component tests verifying JsonLd renders script tag with valid JSON

**Git Commit & Push**: 
- Commit with message: `feat(phase-3): add JSON-LD structured data support (TASK-6.19)`
- Push to origin: `git push origin <branch-name>`
