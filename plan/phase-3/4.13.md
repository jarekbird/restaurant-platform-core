# TASK-4.13: Add simple loyalty/email capture components

**Section**: 4. Story, Social Proof, and Capture Modules
**Subsection**: 4.13
**Task ID**: TASK-4.13

## Description

Create two new capture components: `VipSignupBanner` (banner pattern near hero) and `VipSignupSection` (section pattern near footer). Forms should capture email and/or phone. On submit, call a mock handler that logs to console and uses `ToastProvider` to show success. Make components theme-aware.

**Reference Implementation**: 
- `components/restaurant/AboutSection.tsx` (theme-aware component example)
- `components/ui/ToastProvider.tsx` (toast functionality)
- `master-plan-redacted.md` Section 4.6 (Loyalty, Email/SMS Capture)

## Current State

No capture components exist in the preview layout. Two new components need to be created for email/phone capture with mock handlers.

**Important**: This task should be executed after TASK-4.12, and before TASK-4.14.

## Checklist

### Preparation and Setup

- [ ] Review `ToastProvider` usage
- [ ] Review form handling patterns in codebase
- [ ] Review `master-plan-redacted.md` Section 4.6

### Implementation Steps

- [ ] Step 1: Create VipSignupBanner component
  - [ ] Create `components/restaurant/VipSignupBanner.tsx`
  - [ ] Add form with email and/or phone input
  - [ ] Add submit handler that logs to console and shows toast
  - [ ] Make theme-aware
- [ ] Step 2: Create VipSignupSection component
  - [ ] Create `components/restaurant/VipSignupSection.tsx`
  - [ ] Add form with email and/or phone input
  - [ ] Add submit handler that logs to console and shows toast
  - [ ] Make theme-aware
- [ ] Step 3: Implement form validation
  - [ ] Basic email validation
  - [ ] Basic phone validation (optional)
- [ ] Step 4: Wire ToastProvider
  - [ ] Use toast context to show success message
  - [ ] Show error message if validation fails

### Specific Requirements

- [ ] Requirement 1: Forms must capture email and/or phone
- [ ] Requirement 2: On submit, must log to console and show toast
- [ ] Requirement 3: Components must be theme-aware
- [ ] Requirement 4: Components must be accessible (keyboard, ARIA labels)

### Testing

- [ ] Write component tests:
  - [ ] Test form submission triggers console log and toast
  - [ ] Test form validation (email format)
  - [ ] Test theme token usage
  - [ ] Test accessibility (keyboard navigation)
- [ ] Run full test suite: `npm test`
- [ ] Run type checking: `npm run type-check`
- [ ] Run linting: `npm run lint`

## Related Tasks

- Previous: TASK-4.12
- Next: TASK-4.14
- Dependencies: TASK-1.5

## Definition of Done

This is a **CODE/FILE WRITING TASK**.

**Definition of Done**: "Two capture components (`VipSignupBanner` and `VipSignupSection`) have been created with email/phone forms. Forms log to console and show toast on submit. Components are theme-aware and accessible. Component tests verify form submission, validation, and theme usage. All tests pass. Code is committed and pushed to origin."

**User Stories**:
- As a restaurant owner, I want to capture visitor emails so I can build my VIP list
- As a visitor, I want to sign up for VIP offers so I can get discounts

**Automated Tests**: 
- Component tests verifying form submission triggers console log and toast
- Component tests verifying form validation
- Component tests verifying theme token usage
- Accessibility tests verifying keyboard navigation

**Git Commit & Push**: 
- Commit with message: `feat(phase-3): add loyalty/email capture components (TASK-4.13)`
- Push to origin: `git push origin <branch-name>`
