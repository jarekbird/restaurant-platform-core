# TASK-025.4: Extend Other Builders and Add Event Helper Function

**Section**: 7. Analytics & Event Instrumentation
**Subsection**: 7.2.4
**Task ID**: TASK-025.4
**Parent Task**: TASK-025

## Description

Add event hooks to remaining page builders (promo, loyalty, marketplace) and create event helper function.

## Current State

- Menu and location page events exist (from TASK-025.3)
- Other builders need events
- No event helper exists

**Prerequisites**: TASK-025.3 should be completed

## Checklist

### Implementation Steps

- [ ] Step 1: Extend promo page builder
  - [ ] Promo CTA → `event_name="view_promo_page"` or `event_name="start_checkout"`
- [ ] Step 2: Extend loyalty capture
  - [ ] Signup CTA → `event_name="join_vip_program"` or `event_name="submit_email_capture"`
- [ ] Step 3: Extend marketplace links
  - [ ] Click → `event_name="click_marketplace_link"`, properties: restaurant_id, marketplace_name
- [ ] Step 4: Add event helper function
  - [ ] Add `get_recommended_event_properties(event_name: str, context: Dict) -> Dict[str, Any]` function
  - [ ] Generates recommended properties based on event and context
  - [ ] Uses event definitions from TASK-024

### Testing

- [ ] Write unit tests: `tests/test_builders_pages_events_other.py`
  - [ ] Test promo page event hooks
  - [ ] Test loyalty event hooks
  - [ ] Test marketplace event hooks
  - [ ] Test event helper function

## Related Tasks

- Parent: TASK-025
- Previous: TASK-025.3 (Menu and location)
- Next: TASK-026 (Plan analytics integration points)

## Definition of Done

### Task Type: CODE/FILE WRITING TASK

**Automated Tests**:
- [ ] Unit tests exist and pass
- [ ] Test coverage >= 80%

**Git & Version Control**:
- [ ] Changes committed: `git commit -m "TASK-025.4: Extend other builders and add event helper function"`
- [ ] Code pushed to origin

