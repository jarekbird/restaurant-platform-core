# TASK-3.9: Treat categories as SEO/AI-friendly sections

**Section**: 3. Menu Presentation & Category Structure
**Subsection**: 3.9
**Task ID**: TASK-3.9

## Description

Ensure `MenuCategory` headings are rendered as `h2` elements (already done, verify) and optionally add support for short, static intro copy per category (can be mocked for now). This task focuses on making menu categories SEO and AI search-friendly by using proper heading hierarchy and adding descriptive content. The goal is to ensure categories are treated as distinct sections with semantic HTML.

**Reference Implementation**: 
- `components/menu/MenuCategory.tsx` (current implementation - already uses h2)
- `components/menu/MenuSectionList.tsx` (also has h2, may need consolidation)
- `master-plan-redacted.md` Section 4.3 (Menu Presentation)

## Current State

The `MenuCategory` component already renders category names as `h2` elements (line 18). However:
- `MenuSectionList` also renders `h2` for categories (line 20), which may cause duplicate headings
- Category descriptions exist in the schema but may not be fully utilized
- No additional intro copy per category (beyond description)

The task needs to:
- Verify `h2` usage is correct (MenuCategory already has it)
- Ensure no duplicate `h2` elements (MenuSectionList may need to be updated)
- Optionally enhance category descriptions or add intro copy

**Important**: This task should be executed after TASK-3.8, and before TASK-4.10.

## Checklist

### Preparation and Setup

- [ ] Review current `MenuCategory.tsx` implementation (already uses h2)
- [ ] Review `MenuSectionList.tsx` implementation (also has h2, may need fix)
- [ ] Review `Menu` schema to understand `category.description` field
- [ ] Review `master-plan-redacted.md` Section 4.3 for requirements
- [ ] Understand SEO heading hierarchy requirements (H1 → H2 → H3)

### Implementation Steps

- [ ] Step 1: Verify and fix heading hierarchy
  - [ ] Verify `MenuCategory` uses `h2` for category names (already done)
  - [ ] Check if `MenuSectionList` also renders `h2` (may cause duplicates)
  - [ ] If `MenuSectionList` renders categories, ensure it uses `MenuCategory` component (not duplicate h2)
  - [ ] Ensure only one `h2` per category section
- [ ] Step 2: Enhance category descriptions
  - [ ] Ensure `category.description` is displayed if present
  - [ ] Optionally add support for additional intro copy (can be mocked for now)
  - [ ] Use theme tokens for description text styling
- [ ] Step 3: Ensure semantic HTML structure
  - [ ] Verify each category is wrapped in a `<section>` element
  - [ ] Verify heading hierarchy: H1 (restaurant name) → H2 (category name) → H3 (item name, if used)
  - [ ] Ensure proper semantic structure for SEO
- [ ] Step 4: Add snapshot tests for section structure
  - [ ] Create snapshot tests to verify heading structure
  - [ ] Verify section structure (heading followed by items)

### Specific Requirements

- [ ] Requirement 1: Category headings must be `h2` elements:
  - Each category name must be an `h2`
  - Only one `h2` per category (no duplicates)
  - Heading hierarchy must be correct (H1 → H2 → H3)
- [ ] Requirement 2: Category descriptions must be displayed:
  - If `category.description` exists, it should be displayed
  - Description should use theme tokens for styling
  - Description should be below the heading
- [ ] Requirement 3: Semantic HTML structure must be correct:
  - Each category should be wrapped in a `<section>` element
  - Proper heading hierarchy must be maintained
- [ ] Requirement 4: No duplicate headings:
  - `MenuSectionList` should use `MenuCategory` component (not render its own h2)
  - Or `MenuSectionList` should not render category headings if `MenuCategory` does

### Error Handling and Edge Cases

- [ ] Handle case where `category.description` is missing (should not break layout)
- [ ] Handle case where category has no items (should still render heading)
- [ ] Handle case where category name is very long (should wrap or truncate appropriately)

### Testing

- [ ] Write component tests:
  - [ ] Test that `MenuCategory` renders `h2` for category name
  - [ ] Test that `MenuCategory` renders description when present
  - [ ] Test that `MenuCategory` does not render description when missing
  - [ ] Test that each category section has only one `h2`
- [ ] Write snapshot tests:
  - [ ] Snapshot test for `MenuCategory` to verify section structure (heading followed by items)
  - [ ] Snapshot test for `MenuSectionList` to verify no duplicate headings
- [ ] Write integration tests:
  - [ ] Test that preview page has correct heading hierarchy (H1 → H2)
  - [ ] Test that all categories render with `h2` headings
- [ ] Run full test suite: `npm test` (if applicable)
- [ ] Run type checking: `npm run type-check` (if applicable)
- [ ] Run linting: `npm run lint` (if applicable)
- [ ] **DO NOT manually test by running the server** - use automated tests instead

### Documentation

- [ ] Update component JSDoc/TSDoc comments to document SEO-friendly structure
- [ ] Document heading hierarchy (H1 → H2 → H3)
- [ ] Document category description usage
- [ ] Update any component usage documentation

### Verification

- [ ] Verify category headings are `h2` elements
- [ ] Verify no duplicate `h2` elements per category
- [ ] Verify category descriptions are displayed when present
- [ ] Verify semantic HTML structure is correct
- [ ] Verify heading hierarchy is correct (H1 → H2)
- [ ] Verify all tests pass
- [ ] Verify code quality standards are met

## Notes

- This task is part of Phase 3: Menu Presentation & Category Structure
- **Execution Timing**: Execute after TASK-3.8, before TASK-4.10
- **Dependencies**: 
  - TASK-3.8: Refine MenuItemCard (related menu presentation work)
- **Important Considerations**: 
  - SEO requires proper heading hierarchy (H1 → H2 → H3)
  - AI search engines use semantic HTML to understand content structure
  - Duplicate headings can confuse search engines
  - Category descriptions help with SEO and user understanding
- **Task Independence**: Can be completed independently after TASK-3.8
- **Current State**: MenuCategory already uses h2, but MenuSectionList may have duplicate headings

## Related Tasks

- Previous: TASK-3.8 (Refine MenuItemCard for image-forward layout)
- Next: TASK-4.10 (Add an AboutSection component)
- Dependencies:
  - TASK-3.8: Refine MenuItemCard (related menu work)
- Related:
  - TASK-6.18: Will add SeoContentBlock (related SEO work)

## Definition of Done

This is a **CODE/FILE WRITING TASK**.

**Definition of Done**: "Menu categories are confirmed to use `h2` elements for headings (already implemented, verified). Any duplicate `h2` elements in `MenuSectionList` have been removed. Category descriptions are displayed when present. Semantic HTML structure is correct with proper heading hierarchy (H1 → H2). Component tests verify `h2` usage and description rendering. Snapshot tests verify section structure. Integration tests verify heading hierarchy on preview page. All tests pass. Code is committed and pushed to origin."

**User Stories**:
- As a search engine, I want proper heading hierarchy (H1 → H2) so I can understand the page structure
- As an AI search engine, I want semantic HTML so I can extract menu category information
- As a visitor, I want category descriptions so I can understand what each category contains

**Automated Tests**: 
- Component tests verifying `MenuCategory` renders `h2` for category name
- Component tests verifying `MenuCategory` renders description when present
- Component tests verifying each category section has only one `h2`
- Snapshot tests for `MenuCategory` verifying section structure (heading followed by items)
- Snapshot tests for `MenuSectionList` verifying no duplicate headings
- Integration tests verifying preview page has correct heading hierarchy (H1 → H2)

**Git Commit & Push**: 
- Commit with message: `feat(phase-3): ensure menu categories use SEO-friendly h2 headings (TASK-3.9)`
- Push to origin: `git push origin <branch-name>`
- Ensure all test files are included in the commit
