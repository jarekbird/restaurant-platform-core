# TASK-2.7: Update RestaurantLayout header to emphasize ordering CTA

**Section**: 2. Hero & Navigation Retrofits
**Subsection**: 2.7
**Task ID**: TASK-2.7

## Description

Update the `RestaurantLayout` component's sticky header to display the restaurant logo and name on the left, and retune the `OrderButton` label to "Order Online" (while still showing the cart badge with item count). Ensure the header uses theme colors so the CTA is visually prominent. Optionally, consider adding a mobile-friendly sticky bar at the bottom (reusing `OrderButton`) for an always-available order entry point.

**Reference Implementation**: 
- `components/layout/RestaurantLayout.tsx` (current header implementation)
- `components/order/OrderButton.tsx` (current button implementation)
- `master-plan-redacted.md` Section 4.2 (Navigation & Sticky Order CTA)

## Current State

The `RestaurantLayout` component currently has:
- A sticky header with a cart button on the far right
- The `OrderButton` is labeled "Cart" and shows item count
- Header uses basic styling (may not be fully theme-aware)
- No logo/restaurant name displayed in header
- No mobile sticky bottom bar

The header should be updated to:
- Display logo + restaurant name on the left (using `config.logo` and `config.name`)
- Change `OrderButton` label to "Order Online"
- Use theme colors for header background and CTA prominence
- Optionally add mobile sticky bottom bar

**Important**: This task should be executed after TASK-2.6, and before TASK-3.8.

## Checklist

### Preparation and Setup

- [ ] Review current `RestaurantLayout.tsx` header implementation
- [ ] Review `OrderButton.tsx` to understand current implementation
- [ ] Review `RestaurantConfig` schema to understand `logo` and `name` fields
- [ ] Review `master-plan-redacted.md` Section 4.2 for requirements
- [ ] Understand responsive breakpoints for mobile vs desktop

### Implementation Steps

- [ ] Step 1: Update header layout
  - [ ] Add left section for logo + restaurant name
  - [ ] Display `config.logo` image if present (with fallback to text name)
  - [ ] Display `config.name` as text (or alt text for logo)
  - [ ] Keep `OrderButton` on the right
  - [ ] Ensure header is sticky (already implemented, verify)
- [ ] Step 2: Update OrderButton label
  - [ ] Change label from "Cart" to "Order Online"
  - [ ] Keep item count badge functionality
  - [ ] Ensure button uses theme `primary` color (from TASK-1.5, verify)
- [ ] Step 3: Apply theme colors to header
  - [ ] Use theme `background` or `surface` for header background
  - [ ] Use theme `text` for restaurant name
  - [ ] Use theme `border` for header border (if present)
  - [ ] Ensure `OrderButton` uses theme `primary` color (should already be done)
- [ ] Step 4: Add mobile sticky bottom bar (optional but recommended)
  - [ ] Create a sticky bottom bar that appears on mobile viewports
  - [ ] Reuse `OrderButton` component in bottom bar
  - [ ] Hide bottom bar on desktop (or show both, depending on design)
  - [ ] Ensure bottom bar doesn't overlap footer content
- [ ] Step 5: Ensure responsive behavior
  - [ ] Test header on mobile (logo/name should be appropriately sized)
  - [ ] Test header on tablet/desktop
  - [ ] Test sticky bottom bar on mobile (if implemented)
  - [ ] Ensure header doesn't overlap hero section content

### Specific Requirements

- [ ] Requirement 1: Header must display logo + restaurant name on the left:
  - Use `config.logo` image if present (with appropriate sizing)
  - Fallback to `config.name` text if logo is missing
  - Logo and name should be clickable (link to top of page or home)
- [ ] Requirement 2: `OrderButton` label must be "Order Online":
  - Change from "Cart" to "Order Online"
  - Keep item count badge functionality
  - Button should use theme `primary` color
- [ ] Requirement 3: Header must use theme colors:
  - Background: `theme.colors.background` or `theme.colors.surface`
  - Text: `theme.colors.text`
  - Border: `theme.colors.border` (if border is present)
- [ ] Requirement 4: Mobile sticky bottom bar (optional):
  - Should appear on mobile viewports only
  - Should reuse `OrderButton` component
  - Should be sticky at bottom of viewport
  - Should not overlap footer content
- [ ] Requirement 5: Header must remain sticky (already implemented, verify maintained)

### Error Handling and Edge Cases

- [ ] Handle case where `config.logo` is missing (fallback to text name)
- [ ] Handle case where `config.name` is missing (should not happen, but handle gracefully)
- [ ] Handle case where `itemCount` is 0 (badge should still show or hide appropriately)
- [ ] Handle case where header is very long (logo/name should truncate or wrap appropriately)
- [ ] Handle case where viewport is very small (mobile layout should work)

### Testing

- [ ] Write component tests:
  - [ ] Test that header renders logo when `config.logo` is present
  - [ ] Test that header renders restaurant name when logo is missing
  - [ ] Test that `OrderButton` label is "Order Online"
  - [ ] Test that `OrderButton` shows item count badge
  - [ ] Test that header uses theme colors (background, text, border)
  - [ ] Test that header is sticky (if testable)
- [ ] Write responsive tests:
  - [ ] Test that mobile sticky bottom bar appears on mobile viewport (if implemented)
  - [ ] Test that mobile sticky bottom bar is hidden on desktop (if implemented)
- [ ] Write integration tests:
  - [ ] Test that preview page header renders correctly with different theme keys
  - [ ] Test that header doesn't break layout on different viewport sizes
- [ ] Run full test suite: `npm test` (if applicable)
- [ ] Run type checking: `npm run type-check` (if applicable)
- [ ] Run linting: `npm run lint` (if applicable)
- [ ] **DO NOT manually test by running the server** - use automated tests instead

### Documentation

- [ ] Update component JSDoc/TSDoc comments to document header changes
- [ ] Document logo/name display logic
- [ ] Document mobile sticky bottom bar behavior (if implemented)
- [ ] Update any layout documentation

### Verification

- [ ] Verify header displays logo + restaurant name on the left
- [ ] Verify `OrderButton` label is "Order Online"
- [ ] Verify header uses theme colors
- [ ] Verify mobile sticky bottom bar works (if implemented)
- [ ] Verify responsive layout works on different viewport sizes
- [ ] Verify all tests pass
- [ ] Verify code quality standards are met

## Notes

- This task is part of Phase 3: Hero & Navigation Retrofits
- **Execution Timing**: Execute after TASK-2.6, before TASK-3.8
- **Dependencies**: 
  - TASK-1.5: Wire themes through Restaurant components (header should be theme-aware)
  - TASK-2.6: Enhance HeroSection (related CTA work)
- **Important Considerations**: 
  - Header should be conversion-focused (Order Online CTA is primary)
  - Logo/name should establish brand identity
  - Mobile sticky bottom bar provides always-available order entry point
  - Ensure accessibility (keyboard navigation, screen readers)
- **Task Independence**: Can be completed independently after dependencies
- **Current State**: Header exists but lacks logo/name and uses "Cart" label instead of "Order Online"

## Related Tasks

- Previous: TASK-2.6 (Enhance HeroSection with tagline & CTA support)
- Next: TASK-3.8 (Refine MenuItemCard for image-forward layout)
- Dependencies:
  - TASK-1.5: Wire themes through Restaurant components
- Related:
  - TASK-2.6: Hero CTA (this task adds header CTA)

## Definition of Done

This is a **CODE/FILE WRITING TASK**.

**Definition of Done**: "The `RestaurantLayout` header has been updated to display logo + restaurant name on the left and `OrderButton` labeled 'Order Online' on the right. Header uses theme colors for background, text, and borders. Optional mobile sticky bottom bar has been added (if implemented). Component tests verify logo/name display, OrderButton label and badge, theme color usage, and responsive behavior. Integration tests verify header works with different theme keys. All tests pass. Code is committed and pushed to origin."

**User Stories**:
- As a restaurant owner, I want my logo and name in the header so visitors know which restaurant they're viewing
- As a visitor, I want a prominent "Order Online" button in the header so I can quickly access ordering
- As a mobile visitor, I want a sticky bottom bar with "Order Online" so I can order without scrolling back to top

**Automated Tests**: 
- Component tests verifying header renders logo when `config.logo` is present
- Component tests verifying header renders restaurant name when logo is missing
- Component tests verifying `OrderButton` label is "Order Online" and shows item count badge
- Component tests verifying header uses theme colors (background, text, border)
- Responsive tests verifying mobile sticky bottom bar appears on mobile viewport (if implemented)
- Integration tests verifying preview page header renders correctly with different theme keys

**Git Commit & Push**: 
- Commit with message: `feat(phase-3): update RestaurantLayout header with logo and Order Online CTA (TASK-2.7)`
- Push to origin: `git push origin <branch-name>`
- Ensure all test files are included in the commit
