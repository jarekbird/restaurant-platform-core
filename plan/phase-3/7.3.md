# TASK-007.3: Implement Slugification Function

**Section**: 2. URL & Routing Planning
**Subsection**: 2.1.3
**Task ID**: TASK-007.3
**Parent Task**: TASK-007

## Description

Implement a stable, idempotent slugification function that converts text to URL-friendly slugs. Handles accents, punctuation, and edge cases consistently.

## Current State

- URL utilities module exists (from TASK-007.2)
- Slugification library installed (from TASK-007.1)
- No slugification function exists

**Prerequisites**: TASK-007.2, TASK-007.1 must be completed

## Checklist

### Implementation Steps

- [ ] Step 1: Implement slugify function
  - [ ] Add `slugify(text: str) -> str` function in `utils/urls.py`
  - [ ] Convert to lowercase
  - [ ] Remove/replace special characters
  - [ ] Replace spaces with hyphens
  - [ ] Handle accents (é → e, ñ → n)
  - [ ] Remove consecutive hyphens
  - [ ] Trim hyphens from start/end
  - [ ] Ensure idempotent (slugify(slugify(x)) == slugify(x))
  - [ ] Handle empty strings
  - [ ] Handle very long strings (truncate if needed)
- [ ] Step 2: Add validation
  - [ ] Test idempotency
  - [ ] Test edge cases

### Testing

- [ ] Write unit tests: `tests/test_utils_urls_slugify.py`
  - [ ] Test slugify with normal text
  - [ ] Test slugify with accented characters
  - [ ] Test slugify with special characters
  - [ ] Test slugify with multiple spaces
  - [ ] Test slugify idempotency
  - [ ] Test slugify with empty string
  - [ ] Test slugify with very long string

## Related Tasks

- Parent: TASK-007
- Previous: TASK-007.2 (Module structure)
- Next: TASK-007.4 (Restaurant path builders)

## Definition of Done

### Task Type: CODE/FILE WRITING TASK

**Automated Tests**:
- [ ] Unit tests exist and pass
- [ ] Tests verify idempotency
- [ ] Tests cover edge cases
- [ ] Test coverage >= 85%

**Git & Version Control**:
- [ ] Changes committed: `git commit -m "TASK-007.3: Implement slugification function"`
- [ ] Code pushed to origin

