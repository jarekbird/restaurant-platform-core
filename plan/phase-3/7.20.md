# TASK-7.20: Create front-end analytics helper

**Section**: 7. Analytics & Event Instrumentation (Demo-Level)
**Subsection**: 7.20
**Task ID**: TASK-7.20

## Description

Create a lightweight event helper in `lib/analytics/events.ts` with functions like `trackViewRestaurant(config)`, `trackViewMenuCategory(categoryName)`, `trackAddToCart(item)`, `trackStartCheckout()`, `trackCompleteOrder(order)`, `trackJoinVip()`, etc. For now, these can log structured objects to `console.log`; later they can be wired to a real analytics backend.

**Reference Implementation**: 
- `master-plan-redacted.md` Section 6 (Analytics & Event Instrumentation)

## Current State

No analytics event tracking exists. This will add front-end event logging for demo purposes.

**Important**: This task should be executed before TASK-7.21.

## Checklist

### Implementation Steps

- [ ] Step 1: Create analytics helper file
  - [ ] Create `lib/analytics/events.ts`
- [ ] Step 2: Implement event functions
  - [ ] `trackViewRestaurant(config)`
  - [ ] `trackViewMenuCategory(categoryName)`
  - [ ] `trackAddToCart(item)`
  - [ ] `trackStartCheckout()`
  - [ ] `trackCompleteOrder(order)`
  - [ ] `trackJoinVip()` (or `trackSubmitEmailCapture()`)
- [ ] Step 3: Log to console
  - [ ] Each function logs structured event object to `console.log`
  - [ ] Event objects should have consistent structure (event name, timestamp, data)

### Testing

- [ ] Write unit tests:
  - [ ] Mock `console.log` and verify calls for each event function
  - [ ] Test event object structure
- [ ] Run full test suite: `npm test`

## Related Tasks

- Previous: TASK-6.19
- Next: TASK-7.21
- Dependencies: None

## Definition of Done

This is a **CODE/FILE WRITING TASK**.

**Definition of Done**: "Analytics event helper has been created with functions for tracking key events. Unit tests verify each function logs to console with correct event structure. All tests pass. Code is committed and pushed to origin."

**User Stories**:
- As a developer, I want analytics events so I can track user interactions in the demo
- As a restaurant owner, I want to see what visitors are doing so I can optimize the site

**Automated Tests**: 
- Unit tests mocking console.log and verifying calls for each event function
- Unit tests verifying event object structure

**Git Commit & Push**: 
- Commit with message: `feat(phase-3): create front-end analytics event helper (TASK-7.20)`
- Push to origin: `git push origin <branch-name>`
