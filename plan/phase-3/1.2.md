# TASK-001.2: Set Up Build System (pyproject.toml)

**Section**: 0. Project Scaffolding & Foundations
**Subsection**: 0.1.2
**Task ID**: TASK-001.2
**Parent Task**: TASK-001

## Description

Create and configure `pyproject.toml` for modern Python packaging. This includes project metadata, Python version requirements, build system configuration, and dependency management.

This establishes the build system that will be used throughout the project for dependency management and package installation.

**Reference Implementation**: Modern Python packaging standards (PEP 518, PEP 621)

## Current State

- Package directory structure exists (from TASK-001.1)
- No build system configuration exists
- No dependency management is set up

**Prerequisites**: TASK-001.1 must be completed

## Checklist

### Preparation and Setup

- [ ] Review `pyproject.toml` vs `requirements.txt` approach
- [ ] Review PEP 518 and PEP 621 standards
- [ ] Decide on build backend (setuptools or hatchling)
- [ ] Plan project metadata

### Implementation Steps

- [ ] Step 1: Create pyproject.toml
  - [ ] Create `pyproject.toml` at project root
  - [ ] Add `[build-system]` section:
    - [ ] `requires = ["setuptools>=61.0", "wheel"]` (or hatchling)
    - [ ] `build-backend = "setuptools.build_meta"` (or hatchling)
- [ ] Step 2: Add project metadata
  - [ ] Add `[project]` section with:
    - [ ] `name = "restaurant-site-planner"`
    - [ ] `version = "0.1.0"`
    - [ ] `description = "Generate Owner.com-aligned restaurant website configurations"`
    - [ ] `authors = [...]` (project authors)
    - [ ] `requires-python = ">=3.11"`
    - [ ] `dependencies = []` (initially empty)
- [ ] Step 3: Add development dependencies
  - [ ] Add `[project.optional-dependencies]` section:
    - [ ] `dev = ["pytest>=7.0", "pytest-cov>=4.0"]`
- [ ] Step 4: Verify installation
  - [ ] Run `pip install -e .` to verify package can be installed
  - [ ] Verify editable install works

### Specific Requirements

- [ ] Requirement 1: Uses modern Python packaging
  - [ ] Uses `pyproject.toml` (PEP 518/621 compliant)
  - [ ] Not using legacy `setup.py`
- [ ] Requirement 2: Supports editable installs
  - [ ] `pip install -e .` works
  - [ ] Changes to source code are immediately available
- [ ] Requirement 3: Python version is specified
  - [ ] `requires-python = ">=3.11"` is set
  - [ ] Clear version requirement

### Error Handling and Edge Cases

- [ ] Handle error case 1: Python version too old
  - [ ] `requires-python` prevents installation on old Python
  - [ ] Clear error message

### Testing

- [ ] Verify package can be installed: `pip install -e .`
- [ ] Verify editable install works (changes are reflected)
- [ ] Verify Python version requirement is enforced

### Documentation

- [ ] Document installation in README (will be created in TASK-001.4)

### Verification

- [ ] Verify `pyproject.toml` is valid
- [ ] Verify package can be installed
- [ ] Verify no regressions

## Notes

- This task is part of Phase 3: Owner.com-Aligned Restaurant Sites
- **Execution Timing**: After TASK-001.1
- **Dependencies**: 
  - TASK-001.1: Package structure must exist
- **Important Considerations**: 
  - Use modern Python packaging standards
  - Keep dependencies minimal initially
- **Task Independence**: Can be developed after TASK-001.1

## Related Tasks

- Parent: TASK-001 (Create Python project skeleton)
- Previous: TASK-001.1 (Package directory structure)
- Next: TASK-001.3 (Configure testing framework)
- Dependencies:
  - TASK-001.1

## Definition of Done

### Task Type: CODE/FILE WRITING TASK

**User Stories**:
1. **As a developer**, I want a modern build system so I can manage dependencies easily
2. **As a developer**, I want editable installs so I can develop efficiently

**Automated Tests**:
- [ ] Package can be installed: `pip install -e .` completes without errors
- [ ] Editable install works: changes to source are reflected immediately

**Code Quality**:
- [ ] `pyproject.toml` is valid and follows PEP 621
- [ ] Python version requirement is specified

**Git & Version Control**:
- [ ] `pyproject.toml` is added to git: `git add pyproject.toml`
- [ ] Changes are committed: `git commit -m "TASK-001.2: Set up build system (pyproject.toml)"`
- [ ] Code is pushed to origin: `git push origin <branch-name>`
- [ ] Commit message includes task ID: TASK-001.2

**Final Verification**:
- [ ] All checklist items completed
- [ ] Package can be installed
- [ ] Code committed and pushed

