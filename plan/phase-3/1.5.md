# TASK-1.5: Wire themes through Restaurant components

**Section**: 1. Theme System & Owner-Style Theme Variants
**Subsection**: 1.5
**Task ID**: TASK-1.5

## Description

Audit and update existing restaurant components (`HeroSection`, `RestaurantLayout`, `MenuItemCard`, `CallToActionBar`, and any other visual components used in preview) to replace ad-hoc Tailwind classes with theme-driven classes where appropriate. Ensure components consistently use `theme.colors.*` and `theme.typography.*` for text and button styles, while maintaining layout and functionality. This task focuses on refactoring existing components to be fully theme-aware.

**Reference Implementation**: 
- `components/restaurant/HeroSection.tsx` (already uses some theme tokens)
- `components/layout/RestaurantLayout.tsx` (header/footer styling)
- `components/menu/MenuItemCard.tsx` (menu item presentation)
- `components/theme/ThemeProvider.tsx` (theme context)

## Current State

Some components already use theme tokens (e.g., `HeroSection` uses `theme.colors.background`, `theme.colors.text`, `theme.typography.heading`), but there may be hard-coded Tailwind classes that should be replaced with theme-driven classes. Components like `RestaurantLayout`, `MenuItemCard`, and any `CallToActionBar` may have ad-hoc styling that should use theme tokens instead.

The Theme interface has been extended in TASK-1.3, and new Owner.com-inspired themes have been added in TASK-1.4.

**Important**: This task should be executed after TASK-1.4, and before TASK-2.6 (enhancing HeroSection).

## Checklist

### Preparation and Setup

- [ ] Review all components used in preview: `HeroSection`, `RestaurantLayout`, `MenuItemCard`, `CallToActionBar` (if exists), `MenuSectionList`, `MenuCategory`, `HoursAndLocation`
- [ ] Identify hard-coded Tailwind classes that should use theme tokens
- [ ] Review current theme usage in `HeroSection` as a reference
- [ ] Understand which theme tokens are available (from TASK-1.3)

### Implementation Steps

- [ ] Step 1: Audit `HeroSection` component
  - [ ] Review current theme usage
  - [ ] Identify any hard-coded colors/typography that should use theme tokens
  - [ ] Replace hard-coded classes with theme-driven classes (if any)
- [ ] Step 2: Audit and update `RestaurantLayout` component
  - [ ] Review header styling (background, text colors, borders)
  - [ ] Replace hard-coded header colors with `theme.colors.*` tokens
  - [ ] Review footer styling
  - [ ] Replace hard-coded footer colors with `theme.colors.*` tokens
  - [ ] Ensure `OrderButton` uses theme `primary` color
- [ ] Step 3: Audit and update `MenuItemCard` component
  - [ ] Review card background, text, and border colors
  - [ ] Replace hard-coded card colors with `theme.colors.surface`, `theme.colors.text`, `theme.colors.border`
  - [ ] Review button styling (Add to Cart)
  - [ ] Ensure Add to Cart button uses `theme.colors.primary`
  - [ ] Review typography (item name, description, price)
  - [ ] Use `theme.typography.*` for text styles
- [ ] Step 4: Audit and update `CallToActionBar` component (if exists)
  - [ ] Review button/CTA styling
  - [ ] Replace hard-coded colors with `theme.colors.primary` and `theme.colors.accent`
  - [ ] Use `theme.typography.*` for button text
- [ ] Step 5: Audit other preview components
  - [ ] Review `MenuSectionList` and `MenuCategory` for theme usage
  - [ ] Review `HoursAndLocation` for theme usage
  - [ ] Update any hard-coded styling to use theme tokens
- [ ] Step 6: Verify components work with different themes
  - [ ] Test that components render correctly with different `themeKey` values
  - [ ] Ensure no layout breaks occur

### Specific Requirements

- [ ] Requirement 1: All color-related styling must use theme tokens:
  - Backgrounds: `theme.colors.background`, `theme.colors.surface`
  - Text: `theme.colors.text`, `theme.colors.textMuted`
  - Buttons/CTAs: `theme.colors.primary`, `theme.colors.accent`
  - Borders: `theme.colors.border`
- [ ] Requirement 2: All typography styling must use theme tokens:
  - Headings: `theme.typography.heading`
  - Body text: `theme.typography.body`
- [ ] Requirement 3: Layout and spacing classes (e.g., `p-4`, `mb-2`, `flex`) can remain as Tailwind classes (not theme-driven)
- [ ] Requirement 4: Components must maintain existing functionality (no breaking changes)
- [ ] Requirement 5: Components must work with all theme variants (existing and new Owner.com-inspired themes)

### Error Handling and Edge Cases

- [ ] Handle case where theme tokens are missing (should not happen, but ensure graceful fallback)
- [ ] Ensure components handle missing optional theme tokens (e.g., `radii` if not added)
- [ ] Test with all theme keys to ensure no theme-specific issues

### Testing

- [ ] Write component tests for each updated component:
  - [ ] Test `HeroSection` renders with different `themeKey` values and asserts appropriate theme classes are present
  - [ ] Test `RestaurantLayout` renders with different `themeKey` values and asserts header/footer use theme colors
  - [ ] Test `MenuItemCard` renders with different `themeKey` values and asserts card/button use theme colors
  - [ ] Test `CallToActionBar` (if exists) renders with different `themeKey` values
- [ ] Write integration tests:
  - [ ] Test that preview page renders correctly with different theme keys
  - [ ] Test that all components on preview page use theme tokens consistently
- [ ] Run full test suite: `npm test` (if applicable)
- [ ] Run type checking: `npm run type-check` (if applicable)
- [ ] Run linting: `npm run lint` (if applicable)
- [ ] **DO NOT manually test by running the server** - use automated tests instead

### Documentation

- [ ] Update component JSDoc/TSDoc comments to note theme usage
- [ ] Document which theme tokens each component uses
- [ ] Document any remaining hard-coded classes and why they're not theme-driven

### Verification

- [ ] Verify all components use theme tokens for colors and typography
- [ ] Verify no layout breaks occur with different themes
- [ ] Verify existing functionality is maintained
- [ ] Verify all tests pass
- [ ] Verify code quality standards are met
- [ ] Review code for best practices

## Notes

- This task is part of Phase 3: Theme System & Owner-Style Theme Variants
- **Execution Timing**: Execute after TASK-1.4, before TASK-2.6
- **Dependencies**: 
  - TASK-1.3: Extend Theme type and theme utilities
  - TASK-1.4: Define Owner-inspired theme variants
- **Important Considerations**: 
  - Must maintain backward compatibility (no breaking changes)
  - Layout/spacing classes can remain as Tailwind (not everything needs to be theme-driven)
  - Focus on colors and typography being theme-driven
  - Test with all theme variants to ensure consistency
- **Task Independence**: Can be completed independently after dependencies
- **Current State**: Some components use theme tokens, but many have hard-coded styling that should be theme-driven

## Related Tasks

- Previous: TASK-1.4 (Define Owner-inspired theme variants)
- Next: TASK-2.6 (Enhance HeroSection with tagline & CTA support)
- Dependencies:
  - TASK-1.3: Extend Theme type and theme utilities
  - TASK-1.4: Define Owner-inspired theme variants
- Related:
  - TASK-2.6: Will enhance HeroSection further (this task ensures it's theme-aware first)
  - TASK-2.7: Will update RestaurantLayout header (this task ensures it's theme-aware first)

## Definition of Done

This is a **CODE/FILE WRITING TASK**.

**Definition of Done**: "All restaurant components (`HeroSection`, `RestaurantLayout`, `MenuItemCard`, `CallToActionBar`, and other preview components) have been audited and updated to use theme-driven classes for colors and typography. Hard-coded Tailwind color/typography classes have been replaced with `theme.colors.*` and `theme.typography.*` tokens. Component tests verify components render correctly with different `themeKey` values and assert appropriate theme classes are present. Integration tests verify preview page uses themes consistently. All tests pass. Code is committed and pushed to origin."

**User Stories**:
- As a component, I want to use theme tokens so I can adapt to different Owner.com design families
- As a developer, I want consistent theme usage across components so styling is maintainable
- As a restaurant owner, I want my preview site to use the selected theme consistently across all components

**Automated Tests**: 
- Component tests for `HeroSection` rendering with different `themeKey` values and asserting theme classes are present
- Component tests for `RestaurantLayout` rendering with different `themeKey` values and asserting header/footer use theme colors
- Component tests for `MenuItemCard` rendering with different `themeKey` values and asserting card/button use theme colors
- Component tests for `CallToActionBar` (if exists) rendering with different `themeKey` values
- Integration tests verifying preview page renders correctly with different theme keys and uses theme tokens consistently

**Git Commit & Push**: 
- Commit with message: `refactor(phase-3): wire theme tokens through restaurant components (TASK-1.5)`
- Push to origin: `git push origin <branch-name>`
- Ensure all test files are included in the commit
